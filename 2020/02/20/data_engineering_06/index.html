<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">

    

    
    <title>data engineering (AWS DynamoDB 사용해서 오디오 feature 활용하기) | DataLatte&#39;s IT Blog</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content>
    
    
    <meta name="description" content="NoSQL RDBMS가 제한되는 점들을 보완하기 위해 활용하기 시작했다. NoSQL 같은 경우는 RDB 처럼 특정 Structure가 정해져 있지 않기 때문에 데이터의 추가가 용이하다.    Scalability  SQL Databases are vertically scalable - CPU, RAM or SSD  여러가지 사양들을 정해놓아서 정해진 res">
<meta property="og:type" content="article">
<meta property="og:title" content="data engineering (AWS DynamoDB 사용해서 오디오 feature 활용하기)">
<meta property="og:url" content="https://heung-bae-lee.github.io/2020/02/20/data_engineering_06/index.html">
<meta property="og:site_name" content="DataLatte&#39;s IT Blog">
<meta property="og:description" content="NoSQL RDBMS가 제한되는 점들을 보완하기 위해 활용하기 시작했다. NoSQL 같은 경우는 RDB 처럼 특정 Structure가 정해져 있지 않기 때문에 데이터의 추가가 용이하다.    Scalability  SQL Databases are vertically scalable - CPU, RAM or SSD  여러가지 사양들을 정해놓아서 정해진 res">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://heung-bae-lee.github.io/image/NoSQL_SPotify.png">
<meta property="og:updated_time" content="2020-02-24T13:13:09.501Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="data engineering (AWS DynamoDB 사용해서 오디오 feature 활용하기)">
<meta name="twitter:description" content="NoSQL RDBMS가 제한되는 점들을 보완하기 위해 활용하기 시작했다. NoSQL 같은 경우는 RDB 처럼 특정 Structure가 정해져 있지 않기 때문에 데이터의 추가가 용이하다.    Scalability  SQL Databases are vertically scalable - CPU, RAM or SSD  여러가지 사양들을 정해놓아서 정해진 res">
<meta name="twitter:image" content="https://heung-bae-lee.github.io/image/NoSQL_SPotify.png">
<meta property="fb:app_id" content="100003222637819">


    <link rel="canonical" href="https://heung-bae-lee.github.io/2020/02/20/data_engineering_06/">

    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/3.3.1/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-154199624-1', 'auto');
ga('send', 'pageview');

</script>

    
    


    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 상단형 -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4604833066889492" data-ad-slot="4588503508" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

<link rel="alternate" href="/rss2.xml" title="DataLatte's IT Blog" type="application/rss+xml">
</head>
</html>
<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">DataLatte&#39;s IT Blog using Hexo</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Bayes/">Bayes</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/C-C-자료구조/">C/C++/자료구조</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/CS231n/">CS231n</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Front-end/">Front end</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Kaggle/">Kaggle</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/NLP/">NLP</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Python/">Python</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Recommendation-System/">Recommendation System</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Statistics-Mathematical-Statistics/">Statistics - Mathematical Statistics</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/crawling/">crawling</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/data-engineering/">data engineering</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/deep-learning/">deep learning</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/growth-hacking/">growth hacking</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/hexo/">hexo</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/linear-algebra/">linear algebra</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/machine-learning/">machine learning</a></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/data-engineering/">data engineering</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 상단형 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4604833066889492"
     data-ad-slot="4588503508"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

			    <article id="post-data_engineering_06" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        data engineering (AWS DynamoDB 사용해서 오디오 feature 활용하기)
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
        <a href="/2020/02/20/data_engineering_06/" class="article-date">
            <time datetime="2020-02-20T09:25:18.000Z" itemprop="datePublished">2020-02-20</time>
        </a>
    </div>

		

                
            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            <h1 id="NoSQL"><a href="#NoSQL" class="headerlink" title="NoSQL"></a>NoSQL</h1><ul>
<li>RDBMS가 제한되는 점들을 보완하기 위해 활용하기 시작했다. NoSQL 같은 경우는 RDB 처럼 특정 Structure가 정해져 있지 않기 때문에 <code>데이터의 추가가 용이</code>하다.</li>
</ul>
<p><img src="/image/NoSQL_SPotify.png" alt="NoSQL"></p>
<ul>
<li><p>Scalability</p>
<ul>
<li><p>SQL Databases are <code>vertically</code> scalable - CPU, RAM or SSD</p>
<ul>
<li>여러가지 사양들을 정해놓아서 정해진 resource를 초과할 경우 또다른 resource를 추가 시켜주어야 한다.</li>
</ul>
</li>
<li><p>NoSQL Databases are horizontally scalable - Sharding / Partitioning</p>
<ul>
<li><code>NoSQL은 Partitioning을 통해 다른 resource에서 남는 부분을 부족한 부분에 넘겨줄 수 있다.</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>그렇다면 partition이 무엇이냐 조금 더 자세하게 알아보자면, 우선 해석 그대로 나눈다는 의미가 있다. partition을 해야하는 이유 중 가장 중요한 이유는 데이터가 늘어나면 늘어날수록 SQL을 통하여 query문의 performance가 느려질수 밖에 없는데, 이런 부분을 방지하고자 나누어 주는 것이다. 데이터의 양이 늘어나는데 매번 모든 데이터를 다 읽어와서 작업을 하는 것은 너무 비효율적이기 때문이다. 물론 무조건적으로 NoSQL이 좋다는 의미는 아니다. NoSQL의 경우에는 아래의 그림에서 오른쪽 그림처럼 애초에 우리가 lookup(참조)해야 하는 데이터의 양을 줄여서 나누어 놓는 것이다. 이는 Spark의 경우에도 동일하다.</li>
</ul>
<p><img src="/image/what_is_partition.png" alt="파티션이란"></p>
<ul>
<li><code>Vertical partitioning을 하는 이유</code>는 중복적인 데이터는 ERD를 Table을 분리해서 관리를 하게끔 해서 Normalization을 하였는데, Normalization을 진행하고도 column 수가 늘어나면, 해당 Table을 읽는데 속도가 느려질수가 있다. 또한, <code>어떤 column들은 지속적으로 업데이트가 될 수도 있지만, 어떤 column들은 지속적으로 업데이트가 되지 않을 수 있기 때문에 사용</code>한다. <code>RDBM에서는 나눌수는 있지만, 데이터가 엄청나게 많은 양이어서 데이터를 처리하는데 속도의 향상을 기대한다면 사용하지만, 그렇지 않은 경우는 많이 사용하지 않는다.</code></li>
</ul>
<p><img src="/image/vertical_partition_spotify.png" alt="버티컬 파티션이란"></p>
<ul>
<li><code>Horizontal Partition은 NoSQL에서 무조건 사용</code>된다. 어떤 데이터를 검색할 때 <code>Sharded Key로 빠르게 Access하기 위해서 사용되는 것</code>이다. 마치 RDB에서 primary key를 통한 빠른 search와 유사한 느낌이다. <code>동일한 컬럼이지만 데이터의 양을 나누어서 각각 저장하는 방식</code>이다. <code>Partition key를 통해 데이터를 나누어</code> 주는데, AWS안의 DynamoDB를 만들면서 확인해 볼 것이다.</li>
</ul>
<p><img src="/image/Horicontal_partition_spotify.png" alt="호리즌탈 파티션이란"></p>
<ul>
<li><a href="https://developer.spotify.com/documentation/web-api/reference/artists/get-artists-top-tracks/" target="_blank" rel="noopener">spotify Developer artist’s top tracks</a>를 들어가보면, 아래 그림과 같이 path patameter로 해당 artist id를 받아서 결과를 출력 해준다. NoSQL이므로 track 전체를 가져와도 되지만, 그 안에서 필요한 데이터를 또 작업을 해야하는데, <code>artist 한명이 여러개의 track을 가지고 있는 경우도 있으므로 artist id만을 partition key로 사용할 수 없다. 왜냐하면 partition key로 사용되는 경우 해당 column에 동일한 값을 사용할 수 없기 때문이다. 그러므로 artist_id를 partition key로 해놓고, track id를 sort key로 사용할 것이다.</code></li>
</ul>
<p><img src="/image/top_tracks_method_spotify.png" alt="top tracks API 사용법"></p>
<h2 id="AWS-DynamoDB-사용하기"><a href="#AWS-DynamoDB-사용하기" class="headerlink" title="AWS DynamoDB 사용하기"></a>AWS DynamoDB 사용하기</h2><ul>
<li>먼저 AWS에 로그인을 마친 후, 아래 그림과 같이 service 탭을 눌러 내려보면 이전의 RDS를 만들었을 때 보았던, Database란에서 <code>DynamoDB</code>를 볼 수 있다. 클릭하면 하게 되면 아래 그림과 같은 페이지가 나올 것이다.</li>
</ul>
<p><img src="/image/aws_service_tab_find_dynamodb.png" alt="AWS service에서 DynamoDB 찾기"></p>
<p><img src="/image/DynamoDB_page.png" alt="DynamoDB 페이지"></p>
<ul>
<li>그 다음은, 위의 페이지에서 보이는 것처럼 <code>create table</code>을 클릭하면 다음과 같은 페이지로 이동 될 것이다. 여기서 Table name은 말 그대로 Table의 이름을 지정해주는 부분이고, <code>Partition key</code> 부분은 RDS에서 Primary Key와 동일한 역할(빠르게 참조할 수 있게 해주는)을 하는 부분이라고 생각하면된다. 그러므로 <code>해당 artist_id에 해당하는 row는 유일</code>해야 한다. 하지만 <code>sort key를 사용할 수 있는데, 이 부분은 해당 세션이 언제 생성되었는지를 알려주기 위한 역할</code>이라고 할 수 있다. 위에서 말했던 것 처럼 partition key는 artist_id로 sort key는 track id를 사용할 것이다.</li>
</ul>
<ul>
<li><p><code>Provisioned</code>는 server를 띄우기 때문에 그 상황 안에서 free tier를 사용가능한 사람만 사용할 수 있는데, Auto-Scale이 가능한 부분이 있다. 하지만 Auto-Scale이 실질적으로 적용이 되는 시간차가 있어 해당 Scaling이 진행되는 동안은 traffic이 많아진다면 속도가 느려질 수 있다는 단점이 있을 수 있다.</p>
</li>
<li><p><code>On-demand</code>는 어느 정도 필요한지를 모를 경우에 aws에서 알아서 scaling을 해주고 쓰이는 만큼만 돈을 지불할 상황일 때 사용한다.  </p>
</li>
</ul>
<ul>
<li>필자는 아래와 같이 설정한 후에, DynamoDB를 생성하였다.</li>
</ul>
<p><img src="/image/generate_DynamoDB.png" alt="DynamoDB 생성 페이지"></p>
<ul>
<li>생성한 후에는 생성된 DynamoDB의 페이지가 아래와 같이 나온다.</li>
</ul>
<p><img src="/image/create_DynamoDB_page.png" alt="DynamoDB 페이지"></p>
<ul>
<li><p><code>Read capacity units</code>(읽기 요청 단위 1)은 강력히 일관된 읽기 요청 1 또는 최종적 일관된 읽기 요청 2(최대 4 KB 크기 항목의 경우)를 나타냅니다. 트랜잭션 읽기 요청은 최대 4 KB 크기 항목의 1회 읽기를 수행하는 데 2개의 읽기 요청 단위가 필요합니다.</p>
</li>
<li><p><code>Write capacity units</code>(쓰기 요청 단위 1)은 최대 1 KB 크기의 항목에 대해 1회 쓰기를 나타냅니다.</p>
</li>
<li><p><a href="https://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/HowItWorks.ReadWriteCapacityMode.html#HowItWorks.requests" target="_blank" rel="noopener">참고</a></p>
</li>
</ul>
<p><img src="/image/read_capacity_and_write_capacity.png" alt="Capacity"></p>
<ul>
<li>DB를 사용하다가 primary key가 Table내에서 유일한 RDBMS와는 다르게 partition key를 추가할 수도 있다. 필자의 경우 추가를 할 필요가 없었기에 하진 않았지만, 추가하여 사용할 경우는 아래와 같이 생성해주면된다.</li>
</ul>
<p><img src="/image/add_partition_key_and_sort_key.png" alt="Partition Key와 Sort Key 추가"></p>
<h2 id="Audio-Feature-DynamoDB에-insert-하기"><a href="#Audio-Feature-DynamoDB에-insert-하기" class="headerlink" title="Audio Feature DynamoDB에 insert 하기"></a>Audio Feature DynamoDB에 insert 하기</h2><ul>
<li>AWS service를 사용하기 위한 패키지인 <code>boto3</code>를 설치한다. boto3는 AWS가 제공하는 Python SDK의 이름이다. DynamoDB에 insert를 하거나 select해오거나 할 때 필요하다고 간단하게 이해해도 좋을 것 같다. console에서는 로그인을 통해 인증절차를 거치지만 boto3를 통한 인증방식은 이전의 우리가 설정해 놓았던 aws configure를 통해 설정되있는 상태를 통해 인증하므로 AWS를 console에 로그인하지 않고도 컨트롤할 수 있는 것이다.</li>
</ul>
<ul>
<li><a href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html" target="_blank" rel="noopener">boto3 documents</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pip3 install boto3 --user</span></span><br><span class="line">pip install boto3 --user</span><br></pre></td></tr></table></figure>
<h3 id="오디오-피처-살펴보기"><a href="#오디오-피처-살펴보기" class="headerlink" title="오디오 피처 살펴보기"></a>오디오 피처 살펴보기</h3><ul>
<li>전체적인 flow는 이미 RDS받아놓은 artists Table에서 artist_id들을 받아온 후, Spotify API를 통해 해당 artist_id의 top track 정보를 받아서 AWS의 DynamoDB에 저장할 것이다.</li>
</ul>
<ul>
<li>Spotify API에서는 해당 artist_id 뿐만아니라 국가에대한 parameter도 받는데, 이는 국가마다 해당 artist의 top track이 다를 수도 있기 때문이다. 필자는 우선 US(미국)과 CA(캐나다)에대해서만 살펴 볼 것이다.</li>
</ul>
<p><img src="/image/top_track_reference_page.png" alt="top tracks 페이지"></p>
<ul>
<li><a href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/dynamodb.html" target="_blank" rel="noopener">boto3에서 DynamoDB 사용법 documents</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import os</span><br><span class="line">import boto3</span><br><span class="line">import requests</span><br><span class="line">import base64</span><br><span class="line">import json</span><br><span class="line">import logging</span><br><span class="line">import pymysql</span><br><span class="line"></span><br><span class="line">def main(host, user, passwd, db, port, client_id, client_secret):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        dynamodb = boto3.resource(<span class="string">'dynamodb'</span>, region_name=<span class="string">'ap-northeast-2'</span>, endpoint_url=<span class="string">'http://dynamodb.ap-northeast-2.amazonaws.com'</span>)</span><br><span class="line">    except:</span><br><span class="line">        logging.error(<span class="string">'could not connect to dynamodb'</span>)</span><br><span class="line">        sys.exit(1)</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        conn = pymysql.connect(host=host, user=username, passwd=password, db=database, port=port, use_unicode=True, charset=<span class="string">'utf8'</span>)</span><br><span class="line">        cursor = conn.cursor()</span><br><span class="line">    except:</span><br><span class="line">        logging.error(<span class="string">"could not connect to rds"</span>)</span><br><span class="line">        sys.exit(1)</span><br><span class="line"></span><br><span class="line">    headers = get_headers(client_id, client_secret)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 사용할 DynamoDB로 만든 Table 이름</span></span><br><span class="line">    table = dynamodb.Table(<span class="string">'top_tracks'</span>)</span><br><span class="line"></span><br><span class="line">    cursor.execute(<span class="string">'SELECT id FROM artists'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 국가는 미국과 캐나다만을 선택할 것이다.</span></span><br><span class="line">    countries = [<span class="string">'US'</span>, <span class="string">'CA'</span>]</span><br><span class="line">    <span class="keyword">for</span> country <span class="keyword">in</span> countries:</span><br><span class="line">        <span class="keyword">for</span> (artist_id, ) <span class="keyword">in</span> cursor.fetchall():</span><br><span class="line"></span><br><span class="line">            URL = <span class="string">"https://api.spotify.com/v1/artists/&#123;&#125;/top-tracks"</span>.format(artist_id)</span><br><span class="line">            params = &#123;</span><br><span class="line">                <span class="string">'country'</span>: country</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            r = requests.get(URL, params=params, headers=headers)</span><br><span class="line"></span><br><span class="line">            raw = json.loads(r.text)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> track <span class="keyword">in</span> raw[<span class="string">'tracks'</span>]:</span><br><span class="line">                <span class="comment"># 위에서 가져온 track에서는 artist_id가 없기 때문에 아래와 같이 먼저 dictionary로 만들어줌.</span></span><br><span class="line">                data = &#123;</span><br><span class="line">                    <span class="string">'artist_id'</span>: artist_id,</span><br><span class="line">                    <span class="string">'country'</span>: country</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                data.update(track)</span><br><span class="line"></span><br><span class="line">                table.put_item(</span><br><span class="line">                    Item=data</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_headers(client_id, client_secret):</span><br><span class="line"></span><br><span class="line">    endpoint = <span class="string">"https://accounts.spotify.com/api/token"</span></span><br><span class="line">    encoded = base64.b64encode(<span class="string">"&#123;&#125;:&#123;&#125;"</span>.format(client_id, client_secret).encode(<span class="string">'utf-8'</span>)).decode(<span class="string">'ascii'</span>)</span><br><span class="line"></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">"Authorization"</span>: <span class="string">"Basic &#123;&#125;"</span>.format(encoded)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    payload = &#123;</span><br><span class="line">        <span class="string">"grant_type"</span>: <span class="string">"client_credentials"</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    r = requests.post(endpoint, data=payload, headers=headers)</span><br><span class="line"></span><br><span class="line">    access_token = json.loads(r.text)[<span class="string">'access_token'</span>]</span><br><span class="line"></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">"Authorization"</span>: <span class="string">"Bearer &#123;&#125;"</span>.format(access_token)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">return</span> headers</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    parser = argparse.ArgumentParser()</span><br><span class="line">    parser.add_argument(<span class="string">'--client_id'</span>, <span class="built_in">type</span>=str, <span class="built_in">help</span>=<span class="string">'Spotify app client id'</span>)</span><br><span class="line">    parser.add_argument(<span class="string">'--client_secret'</span>, <span class="built_in">type</span>=str, <span class="built_in">help</span>=<span class="string">'Spotify client secret'</span>)</span><br><span class="line">    parser.add_argument(<span class="string">'--host'</span>, <span class="built_in">type</span>=str, <span class="built_in">help</span>=<span class="string">'end point host'</span>)</span><br><span class="line">    parser.add_argument(<span class="string">'--username'</span>, <span class="built_in">type</span>=str, <span class="built_in">help</span>=<span class="string">'AWS RDS id'</span>)</span><br><span class="line">    parser.add_argument(<span class="string">'--database'</span>, <span class="built_in">type</span>=str, <span class="built_in">help</span>=<span class="string">'DB name'</span>)</span><br><span class="line">    parser.add_argument(<span class="string">'--password'</span>, <span class="built_in">type</span>=str, <span class="built_in">help</span>=<span class="string">'AWS RDS password'</span>)</span><br><span class="line">    args = parser.parse_args()</span><br><span class="line">    port = 3306</span><br><span class="line">    main(host=args.host, user=args.username, passwd=args.password, db=args.database, port=port, client_id=args.client_id, client_secret=args.client_secret)</span><br></pre></td></tr></table></figure>
<ul>
<li>아래와 같이 AWS console 창에서도 데이터가 insert된 것을 확인 할 수 있다.</li>
</ul>
<p><img src="/image/DynamoDB_insert_result.png" alt="Spotify top tracks DynamoDb에 insert"></p>
<h2 id="DynamoDB-저장된-데이터-불러오기"><a href="#DynamoDB-저장된-데이터-불러오기" class="headerlink" title="DynamoDB 저장된 데이터 불러오기"></a>DynamoDB 저장된 데이터 불러오기</h2><ul>
<li>아래 그림에서와 같이 boto3를 이용하여 DynamoDB에서 데이터를 select하여 가져오는 방법은 <code>get_item</code> 함수를 사용하는 방법이 있다. 단, <code>해당 Table의 Partition key 나 sort key로 지정한 column의 값을 전부 입력해 주어야 error 없이 작동된다.</code></li>
</ul>
<p><img src="/image/dynamodb_get_item.png" alt="boto3 get item 메서드"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import os</span><br><span class="line">import boto3</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        dynamodb = boto3.resource(<span class="string">'dynamodb'</span>, region_name=<span class="string">'ap-northeast-2'</span>, endpoint_url=<span class="string">'http://dynamodb.ap-northeast-2.amazonaws.com'</span>)</span><br><span class="line">    except:</span><br><span class="line">        logging.error(<span class="string">'could not connect to dynamodb'</span>)</span><br><span class="line">        sys.exit(1)</span><br><span class="line"></span><br><span class="line">    table = dynamodb.Table(<span class="string">'top_tracks'</span>)</span><br><span class="line"></span><br><span class="line">    response = table.get_item(</span><br><span class="line">        Key=&#123;</span><br><span class="line">            <span class="string">'artist_id'</span> : <span class="string">'0L8ExT028jH3ddEcZwqJJ5'</span>,</span><br><span class="line">            <span class="string">'id'</span> : <span class="string">'0uppYCG86ajpV2hSR3dJJ0'</span></span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(response)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h4 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">'Item'</span>: &#123;<span class="string">'is_playable'</span>: True, <span class="string">'duration_ms'</span>: Decimal(<span class="string">'282906'</span>), <span class="string">'external_ids'</span>: &#123;<span class="string">'isrc'</span>: <span class="string">'USWB19901574'</span>&#125;, <span class="string">'uri'</span>: <span class="string">'spotify:track:0uppYCG86ajpV2hSR3dJJ0'</span>, <span class="string">'country'</span>: <span class="string">'US'</span>, <span class="string">'name'</span>: <span class="string">'Give It Away'</span>, <span class="string">'album'</span>: &#123;<span class="string">'total_tracks'</span>: Decimal(<span class="string">'19'</span>), <span class="string">'images'</span>: [&#123;<span class="string">'width'</span>: Decimal(<span class="string">'640'</span>), <span class="string">'url'</span>: <span class="string">'https://i.scdn.co/image/ab67616d0000b273153d79816d853f2694b2cc70'</span>, <span class="string">'height'</span>: Decimal(<span class="string">'640'</span>)&#125;, &#123;<span class="string">'width'</span>: Decimal(<span class="string">'300'</span>), <span class="string">'url'</span>: <span class="string">'https://i.scdn.co/image/ab67616d00001e02153d79816d853f2694b2cc70'</span>, <span class="string">'height'</span>: Decimal(<span class="string">'300'</span>)&#125;, &#123;<span class="string">'width'</span>: Decimal(<span class="string">'64'</span>), <span class="string">'url'</span>: <span class="string">'https://i.scdn.co/image/ab67616d00004851153d79816d853f2694b2cc70'</span>, <span class="string">'height'</span>: Decimal(<span class="string">'64'</span>)&#125;], <span class="string">'artists'</span>: [&#123;<span class="string">'name'</span>: <span class="string">'Red Hot Chili Peppers'</span>, <span class="string">'href'</span>: <span class="string">'https://api.spotify.com/v1/artists/0L8ExT028jH3ddEcZwqJJ5'</span>, <span class="string">'id'</span>: <span class="string">'0L8ExT028jH3ddEcZwqJJ5'</span>, <span class="string">'type'</span>: <span class="string">'artist'</span>, <span class="string">'external_urls'</span>: &#123;<span class="string">'spotify'</span>: <span class="string">'https://open.spotify.com/artist/0L8ExT028jH3ddEcZwqJJ5'</span>&#125;, <span class="string">'uri'</span>: <span class="string">'spotify:artist:0L8ExT028jH3ddEcZwqJJ5'</span>&#125;], <span class="string">'release_date'</span>: <span class="string">'1991-09-24'</span>, <span class="string">'name'</span>: <span class="string">'Blood Sugar Sex Magik (Deluxe Edition)'</span>, <span class="string">'album_type'</span>: <span class="string">'album'</span>, <span class="string">'release_date_precision'</span>: <span class="string">'day'</span>, <span class="string">'href'</span>: <span class="string">'https://api.spotify.com/v1/albums/30Perjew8HyGkdSmqguYyg'</span>, <span class="string">'id'</span>: <span class="string">'30Perjew8HyGkdSmqguYyg'</span>, <span class="string">'type'</span>: <span class="string">'album'</span>, <span class="string">'external_urls'</span>: &#123;<span class="string">'spotify'</span>: <span class="string">'https://open.spotify.com/album/30Perjew8HyGkdSmqguYyg'</span>&#125;, <span class="string">'uri'</span>: <span class="string">'spotify:album:30Perjew8HyGkdSmqguYyg'</span>&#125;, <span class="string">'popularity'</span>: Decimal(<span class="string">'72'</span>), <span class="string">'artists'</span>: [&#123;<span class="string">'name'</span>: <span class="string">'Red Hot Chili Peppers'</span>, <span class="string">'href'</span>: <span class="string">'https://api.spotify.com/v1/artists/0L8ExT028jH3ddEcZwqJJ5'</span>, <span class="string">'id'</span>: <span class="string">'0L8ExT028jH3ddEcZwqJJ5'</span>, <span class="string">'type'</span>: <span class="string">'artist'</span>, <span class="string">'external_urls'</span>: &#123;<span class="string">'spotify'</span>: <span class="string">'https://open.spotify.com/artist/0L8ExT028jH3ddEcZwqJJ5'</span>&#125;, <span class="string">'uri'</span>: <span class="string">'spotify:artist:0L8ExT028jH3ddEcZwqJJ5'</span>&#125;], <span class="string">'disc_number'</span>: Decimal(<span class="string">'1'</span>), <span class="string">'href'</span>: <span class="string">'https://api.spotify.com/v1/tracks/0uppYCG86ajpV2hSR3dJJ0'</span>, <span class="string">'track_number'</span>: Decimal(<span class="string">'9'</span>), <span class="string">'external_urls'</span>: &#123;<span class="string">'spotify'</span>: <span class="string">'https://open.spotify.com/track/0uppYCG86ajpV2hSR3dJJ0'</span>&#125;, <span class="string">'artist_id'</span>: <span class="string">'0L8ExT028jH3ddEcZwqJJ5'</span>, <span class="string">'preview_url'</span>: <span class="string">'https://p.scdn.co/mp3-preview/fcdf3224d230b26b637418c2d1028bc482db7fce?cid=93b8cdc701294ab7992eaf370c7ba1cd'</span>, <span class="string">'is_local'</span>: False, <span class="string">'id'</span>: <span class="string">'0uppYCG86ajpV2hSR3dJJ0'</span>, <span class="string">'explicit'</span>: False, <span class="string">'type'</span>: <span class="string">'track'</span>&#125;, <span class="string">'ResponseMetadata'</span>: &#123;<span class="string">'RequestId'</span>: <span class="string">'KKGRB8AQD7G3H83UAA4J40TPE7VV4KQNSO5AEMVJF66Q9ASUAAJG'</span>, <span class="string">'HTTPStatusCode'</span>: 200, <span class="string">'HTTPHeaders'</span>: &#123;<span class="string">'x-amzn-requestid'</span>: <span class="string">'KKGRB8AQD7G3H83UAA4J40TPE7VV4KQNSO5AEMVJF66Q9ASUAAJG'</span>, <span class="string">'x-amz-crc32'</span>: <span class="string">'1465669044'</span>, <span class="string">'content-type'</span>: <span class="string">'application/x-amz-json-1.0'</span>, <span class="string">'content-length'</span>: <span class="string">'2296'</span>, <span class="string">'date'</span>: <span class="string">'Fri, 21 Feb 2020 12:56:26 GMT'</span>&#125;, <span class="string">'RetryAttempts'</span>: 0&#125;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>그런데, 여기서 어떠한 형식으로든 DB를 사용하려면 query도 사용할 필요가 있을 것이다. 이런 경우 사용하는 것이 Scanning과 Querying이다. <code>Querying은 Partition key(Primary key)를 알고있을 경우에 사용</code>하고, <code>Scanning은 그 이외의 부수적인 다른 attribute(column)의 value를 알고 있을 때 사용</code>한다.</li>
</ul>
<p><img src="/image/boto3_dynamodb_scanning_and_querying.png" alt="querying, scanning"></p>
<h4 id="partition-key와-다른-attribute를-사용한-query문"><a href="#partition-key와-다른-attribute를-사용한-query문" class="headerlink" title="partition key와 다른 attribute를 사용한 query문"></a>partition key와 다른 attribute를 사용한 query문</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import os</span><br><span class="line">import boto3</span><br><span class="line"></span><br><span class="line">from boto3.dynamodb.conditions import Key, Attr</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        dynamodb = boto3.resource(<span class="string">'dynamodb'</span>, region_name=<span class="string">'ap-northeast-2'</span>, endpoint_url=<span class="string">'http://dynamodb.ap-northeast-2.amazonaws.com'</span>)</span><br><span class="line">    except:</span><br><span class="line">        logging.error(<span class="string">'could not connect to dynamodb'</span>)</span><br><span class="line">        sys.exit(1)</span><br><span class="line"></span><br><span class="line">    table = dynamodb.Table(<span class="string">'top_tracks'</span>)</span><br><span class="line"></span><br><span class="line">    response = table.query(</span><br><span class="line">        KeyConditionExpression=Key(<span class="string">'artist_id'</span>).eq(<span class="string">'0L8ExT028jH3ddEcZwqJJ5'</span>)</span><br><span class="line">        FilterExpression=Attr(<span class="string">'popularity'</span>).gt(80)</span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(response[<span class="string">'Items'</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h4 id="Attribute만-사용하는-scanning"><a href="#Attribute만-사용하는-scanning" class="headerlink" title="Attribute만 사용하는 scanning"></a>Attribute만 사용하는 scanning</h4><ul>
<li>허나, <code>되도록이면 querying을 사용하는 것을 추천</code>한다. 왜냐하면, scan을 key값이 없기 때문에 전체 데이터를 한번 다 돌아서 조건에 맞는 데이터들을 가져오는 것이므로, 데이터의 양이 많아 row의 수가 많다면, 속도가 느려지기 때문이다.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import os</span><br><span class="line">import boto3</span><br><span class="line"></span><br><span class="line">from boto3.dynamodb.conditions import Key, Attr</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        dynamodb = boto3.resource(<span class="string">'dynamodb'</span>, region_name=<span class="string">'ap-northeast-2'</span>, endpoint_url=<span class="string">'http://dynamodb.ap-northeast-2.amazonaws.com'</span>)</span><br><span class="line">    except:</span><br><span class="line">        logging.error(<span class="string">'could not connect to dynamodb'</span>)</span><br><span class="line">        sys.exit(1)</span><br><span class="line"></span><br><span class="line">    table = dynamodb.Table(<span class="string">'top_tracks'</span>)</span><br><span class="line"></span><br><span class="line">    response = table.scan(</span><br><span class="line">        FilterExpression=Attr(<span class="string">'popularity'</span>).gt(80)</span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">print</span>(response[<span class="string">'Items'</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

        </div>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 하단형 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4604833066889492"
     data-ad-slot="9861011486"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

        <footer class="article-footer">
            


    <div class="a2a_kit a2a_default_style">
    <a class="a2a_dd" href="https://www.addtoany.com/share">Share</a>
    <span class="a2a_divider"></span>
    <a class="a2a_button_facebook"></a>
    <a class="a2a_button_twitter"></a>
    <a class="a2a_button_google_plus"></a>
    <a class="a2a_button_pinterest"></a>
    <a class="a2a_button_tumblr"></a>
</div>
<script type="text/javascript" src="//static.addtoany.com/menu/page.js"></script>
<style>
    .a2a_menu {
        border-radius: 4px;
    }
    .a2a_menu a {
        margin: 2px 0;
        font-size: 14px;
        line-height: 16px;
        border-radius: 4px;
        color: inherit !important;
        font-family: 'Microsoft Yahei';
    }
    #a2apage_dropdown {
        margin: 10px 0;
    }
    .a2a_mini_services {
        padding: 10px;
    }
    a.a2a_i,
    i.a2a_i {
        width: 122px;
        line-height: 16px;
    }
    a.a2a_i .a2a_svg,
    a.a2a_more .a2a_svg {
        width: 16px;
        height: 16px;
        line-height: 16px;
        vertical-align: top;
        background-size: 16px;
    }
    a.a2a_i {
        border: none !important;
    }
    a.a2a_menu_show_more_less {
        margin: 0;
        padding: 10px 0;
        line-height: 16px;
    }
    .a2a_mini_services:after{content:".";display:block;height:0;clear:both;visibility:hidden}
    .a2a_mini_services{*+height:1%;}
</style>


        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "HeungBae Lee"
        },
        "headline": "data engineering (AWS DynamoDB 사용해서 오디오 feature 활용하기)",
        "image": "https://heung-bae-lee.github.io/image/NoSQL_SPotify.png",
        "keywords": "",
        "genre": "data engineering",
        "datePublished": "2020-02-20",
        "dateCreated": "2020-02-20",
        "dateModified": "2020-02-24",
        "url": "https://heung-bae-lee.github.io/2020/02/20/data_engineering_06/",
        "description": "NoSQL
RDBMS가 제한되는 점들을 보완하기 위해 활용하기 시작했다. NoSQL 같은 경우는 RDB 처럼 특정 Structure가 정해져 있지 않기 때문에 데이터의 추가가 용이하다.



Scalability

SQL Databases are vertically scalable - CPU, RAM or SSD

여러가지 사양들을 정해놓아서 정해진 res"
        "wordCount": 2535
    }
</script>

</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="https://www.facebook.com/heungbae.lee" target="_blank" rel="noopener">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/HEUNG-BAE-LEE" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2020/02/22/data_engineering_07/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            data engineering (데이터 웨어하우스 vs 데이터 레이크)
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2020/02/20/NLP_13/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">NLP 실습 Chat bot 만들기</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/C-C-자료구조/">C/C++/자료구조</a></p>
                            <p class="item-title"><a href="/2020/04/30/data_structure_04/" class="title">내가 정리하는 자료구조 03 - 시간복잡도</a></p>
                            <p class="item-date"><time datetime="2020-04-30T09:12:50.000Z" itemprop="datePublished">2020-04-30</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/C-C-자료구조/">C/C++/자료구조</a></p>
                            <p class="item-title"><a href="/2020/04/28/data_structure_03/" class="title">내가 정리하는 자료구조 02 Linked List</a></p>
                            <p class="item-date"><time datetime="2020-04-27T19:41:46.000Z" itemprop="datePublished">2020-04-28</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/C-C-자료구조/">C/C++/자료구조</a></p>
                            <p class="item-title"><a href="/2020/04/27/data_structure_02/" class="title">내가 정리하는 자료구조 01 Stack</a></p>
                            <p class="item-date"><time datetime="2020-04-27T12:38:39.000Z" itemprop="datePublished">2020-04-27</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/machine-learning/">machine learning</a></p>
                            <p class="item-title"><a href="/2020/04/26/machine_learning_13/" class="title">의사결정나무</a></p>
                            <p class="item-date"><time datetime="2020-04-25T18:27:27.000Z" itemprop="datePublished">2020-04-26</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/machine-learning/">machine learning</a></p>
                            <p class="item-title"><a href="/2020/04/25/machine_learning_12/" class="title">Support Vector Machine(SVM) - 02</a></p>
                            <p class="item-date"><time datetime="2020-04-25T11:03:51.000Z" itemprop="datePublished">2020-04-25</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Bayes/">Bayes</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-C-자료구조/">C/C++/자료구조</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CS231n/">CS231n</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Front-end/">Front end</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kaggle/">Kaggle</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NLP/">NLP</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Recommendation-System/">Recommendation System</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Statistics-Mathematical-Statistics/">Statistics - Mathematical Statistics</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/crawling/">crawling</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/data-engineering/">data engineering</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/deep-learning/">deep learning</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/growth-hacking/">growth hacking</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linear-algebra/">linear algebra</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/machine-learning/">machine learning</a><span class="category-list-count">14</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CS231n/">CS231n</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/crawling/">crawling</a><span class="tag-list-count">2</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/CS231n/" style="font-size: 10px;">CS231n</a> <a href="/tags/crawling/" style="font-size: 20px;">crawling</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 사이드바 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4604833066889492"
     data-ad-slot="3275421833"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2020 HeungBae Lee</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'https://heung-bae-lee.github.io/2020/02/20/data_engineering_06/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<!-- <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script>

</body>
</html>
